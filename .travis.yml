language: node_js
node_js:
- 10
addons:
  apt:
    packages:
    - libgconf-2-4
cache:
  npm: true
  directories:
  - node_modules
install:
- npm ci
script:
- npm run test:unit
after_success:
- cat ./coverage/lcov.info | coveralls
- npm run build
before_deploy: "./before_deploy.sh"
deploy:
  provider: heroku
  api_key:
    secure: X/tqosUlntnoNof2Hb5wmSXKSF6Pg3E6zoeFAkIC184zVtOv35VpLz1HlUMyk4DxzkSj0W0nwx1IJZ8jjbktGcr0fiDP8QMHDk46nNYmvQrogW/CB5hoY8stColJZGzDoe7YYjM2h3ZgJ9jtHStbe6Clg83KFXaj5CxIFbTxwnXrv7HQBFABTUBbYiqDIXzbZ73qgTEDp2uQYyyLOp8LPW1E4r0JAwsQSaP00PizjmIN/iLuHV96pgeusKYM0vpYA1E7173XSkzrGllsluymkQ7oa67FANhmhQusKR1HCStdy4s1pSxTJrs/97SpjEM5eqaJeMw17iYiS9dlmd/V0txruoOw3ZD5LjHDjk564JEs4cWJFzhfKCDXV5NHv1c442KipDP7IfIXsUvmoX+QSL7EQ+BpmYlkNxG7QLmZVuGcz2xDn6s4JBYNzGM5OdEkkZiCgnPjI1JObnfhekd9V9q9bhxdQmi4tpb3v3d8z4SFxLrcewoDZ/vdm8Yb9uMSqEfI4/ZM0iITbWBMKu7F1TkkkP05MlCrkL71UWtkJzs85zSQZAQiJkMaCloIIbn1vXqP0QQbJQh+vao9BWH7r4veIOJZsS3Bi/4GFzLYh/5DPW8BEHFSho8pSgTD/wuArujtxkROIxJirHTp2SwoMWHJtZZOIp81svzSucZ2BJ0=
  app:
    dev: semicolon-ds-staging
  skip_cleanup: true
after_deploy: "./after_deploy.sh"
